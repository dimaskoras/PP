# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ VK (–¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –ø–æ—à–∞–≥–æ–≤–æ —Å–æ–∑–¥–∞–¥–∏–º Telegram-–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å –∏ —Ä–∞–∑–ª–∏—á–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, –æ—Ç–ø—Ä–∞–≤–ª—è—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ú—ã —Ä–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—ã–π —à–∞–≥, —á—Ç–æ–±—ã –≤—ã –ø–æ–Ω–∏–º–∞–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

---

## üöÄ –ß—Ç–æ —É–º–µ–µ—Ç –Ω–∞—à –±–æ—Ç?

- **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å**: –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –∏–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Å–µ—Ç–∏.
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –¥—Ä—É–∑–µ–π**: –£–∑–Ω–∞–≤–∞—Ç—å –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π.
- **–°–ª–µ–¥–∏—Ç—å –∑–∞ –≥—Ä—É–ø–ø–∞–º–∏**: –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã.
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—Å—Ç—ã**: –£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç–µ–Ω–µ.
- **–ù–∞—Ö–æ–¥–∏—Ç—å –ª–∞–π–∫–∏**: –£–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö –ª–∞–π–∫–∞—Ö (–Ω–∞ –∑–∞–ø–∏—Å—è—Ö, —Ñ–æ—Ç–æ –∏ —Ç.–¥.).
- **–ó–∞–º–µ—á–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö.
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: –í—ã–±–∏—Ä–∞—Ç—å, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º

- **Python 3.8+**
- **python-telegram-bot**: –£–¥–æ–±–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Telegram-–±–æ—Ç–æ–≤.
- **vk_api**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å VK API.
- **aiosqlite**: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
- **asyncio**: –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á "–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ".
- **python-dotenv**: –ü–æ–º–æ–≥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤:

- `main.py`: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –∏ —Ç—Ä–µ–∫–µ—Ä.
- `bot_commands.py`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã Telegram (/subscribe, /unsubscribe –∏ —Ç.–¥.).
- `vk_tracker.py`: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å VK API.
- `database.py`: –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite.
- `config.py`: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ `.env`.
- `.env`: –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- `requirements_pythonanywhere.txt`: –°–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

---

## ‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞: –®–∞–≥ –∑–∞ —à–∞–≥–æ–º

### –®–∞–≥ 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python

–°–∫–∞—á–∞–π—Ç–µ Python —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://www.python.org/downloads/) –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–∞ –æ–ø—Ü–∏—è **"Add Python to PATH"**.

### –®–∞–≥ 2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
mkdir vk_bot_project
cd vk_bot_project
```

### –®–∞–≥ 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `requirements_pythonanywhere.txt` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```text
python-telegram-bot==20.8
vk-api==11.9.9
aiosqlite==0.19.0
python-dotenv==1.0.1
flask==3.0.2
gunicorn==23.0.0
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install -r requirements_pythonanywhere.txt
```

### –®–∞–≥ 4. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã Telegram –∏ VK

- **Telegram Token**: –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@BotFather](https://t.me/BotFather) –≤ Telegram –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞.
- **VK User Token**: –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ `friends, groups, wall, likes, offline` —á–µ—Ä–µ–∑ [VK API](https://vk.com/dev/).

### –®–∞–≥ 5. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:

```ini
TELEGRAM_TOKEN="–°–Æ–î–ê_–í–°–¢–ê–í–¨–¢–ï_–¢–û–ö–ï–ù_–¢–ì_–ë–û–¢–ê"
VK_USER_TOKEN="–°–Æ–î–ê_–í–°–¢–ê–í–¨–¢–ï_–¢–û–ö–ï–ù_–í–ö"
ADMIN_CHAT_ID="–°–Æ–î–ê_–í–°–¢–ê–í–¨–¢–ï_–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_ID"
POLLING_INTERVAL=30
DB_PATH=vk_tracker.db
```

---

## üß± –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

### `config.py`

–§–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

### `database.py`

–°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª–∞—Å—Å `Database` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite. –ú–µ—Ç–æ–¥—ã:

- `init_db`: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü.
- `add_subscription`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫.
- `get_subscriptions`: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫.
- `update_monitoring_settings`: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.

### `vk_tracker.py`

–ö–ª–∞—Å—Å `VKTracker` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VK API.
- –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏: `_track_online_status` –∏ `_track_user_activity`.
- –û—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram.

### `bot_commands.py`

–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥:

- `/start` –∏ `/help`: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø—Ä–∞–≤–∫–∞.
- `/subscribe`: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK.
- `/unsubscribe`: –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK.
- `/list`: –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫.
- `/settings`: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.
- `/toggle`: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫.

### `main.py`

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:

- –ß—Ç–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥.
- –ó–∞–ø—É—Å–∫ —Ç—Ä–µ–∫–µ—Ä–∞ VK.
- –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞.

---

## ‚ñ∂ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç:

```bash
python main.py
```

---

## ‚úÖ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º

- **/start**: –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –±–æ—Ç–æ–º.
- **/help**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.
- **/subscribe <vk_id –∏–ª–∏ —Å—Å—ã–ª–∫–∞>**: –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK.
- **/unsubscribe <vk_id –∏–ª–∏ —Å—Å—ã–ª–∫–∞>**: –û—Ç–ø–∏—Å–∞—Ç—å—Å—è.
- **/list**: –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫.
- **/settings <vk_id –∏–ª–∏ —Å—Å—ã–ª–∫–∞>**: –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.
- **/toggle <vk_id> <–Ω–æ–º–µ—Ä_–Ω–∞—Å—Ç—Ä–æ–π–∫–∏>**: –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## üìò –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ Telegram-–±–æ—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ VK –∏ –Ω–∞—É—á–∏–ª–∏—Å—å:

- –†–∞–±–æ—Ç–∞—Ç—å —Å VK API –∏ Telegram Bot API.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ.
- –•—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ SQLite.
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –º–æ–¥—É–ª–∏.

–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞!